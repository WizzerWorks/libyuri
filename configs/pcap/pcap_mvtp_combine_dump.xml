<?xml version="1.0" ?>

<app name="test">

<general>
  <parameter name="run_limit">-1</parameter>
  <parameter name="debug">0</parameter>  
</general>

<variable name="file" default=""/>
<variable name="debayer" default="1"/>
<variable name="fmt" default="uyvy422"/>

<node class="read_pcap" name="pcap">
        <parameter name="filename">@file</parameter>
</node>


<node class="mvtp_receiver" name="mvtp">
        <parameter name="debug">2</parameter>
        <parameter name="clear">1</parameter>
</node>

<node class="filedump" name="dump0">
        <parameter name="filename">dump0_.png</parameter>
        <parameter name="sequence">4</parameter>      
</node>
<node class="filedump" name="dump1">
        <parameter name="filename">dump1_.png</parameter>
        <parameter name="sequence">4</parameter>      
</node>

<node class="pngencoder" name="png0">
	<parameter name="level">90</parameter>
</node>
<node class="pngencoder" name="png1">
	<parameter name="level">90</parameter>
</node>
<node class="mvtp_convert" name="conv0">
        <parameter name="format">@fmt</parameter>
</node>
<node class="mvtp_convert" name="conv1">
        <parameter name="format">@fmt</parameter>
</node>
<node class="mvtp_convert" name="conv2">
        <parameter name="format">@fmt</parameter>
</node>
<node class="mvtp_convert" name="conv3">
        <parameter name="format">@fmt</parameter>
</node>

<node class="mvtp_combine" name="comb0">
	<parameter name="fps_stats">2</parameter>
	<parameter name="debayer">@debayer</parameter>
</node>
<node class="mvtp_combine" name="comb1">
 <parameter name="fps_stats">10</parameter>
</node>

<link name="input" source="pcap:0" target="mvtp:0"/>

<link name="input0" source="mvtp:0" target="conv0:0"/>
<link name="input1" source="mvtp:1" target="conv1:0"/>
<link name="input2" source="mvtp:2" target="conv2:0"/>
<link name="input3" source="mvtp:3" target="conv3:0"/>

<link name="comb0" source="conv0:0" target="comb0:0"/>
<link name="comb1" source="conv1:0" target="comb0:1"/>
<link name="comb2" source="conv2:0" target="comb1:0"/>
<link name="comb3" source="conv3:0" target="comb1:1"/>

<link name="show0" source="comb0:0" target="png0:0"/>
<link name="show1" source="comb1:0" target="png1:0"/>
<link name="jpg0" source="png0:0" target="dump0:0"/>
<link name="jpg1" source="png1:0" target="dump1:0"/>

</app>
